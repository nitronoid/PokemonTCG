#ifndef GAMESTALLER_H
#define GAMESTALLER_H

#include "observers/gameobserver.h"

class GameStaller : public GameObserver
{
public:
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief default ctor
  //----------------------------------------------------------------------------------------------------------------------
  GameStaller(const unsigned _waitTime) :
    m_wait(_waitTime)
  {}
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief default virtual dtor
  //----------------------------------------------------------------------------------------------------------------------
  ~GameStaller() = default;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief interface for executing at the start a turn
  //----------------------------------------------------------------------------------------------------------------------
  virtual void startTurn() override;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief interface for executing when an attack is used
  //----------------------------------------------------------------------------------------------------------------------
  virtual void attackUsed(PokemonCard*const, const unsigned) override;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief interface for executing when an effect is used
  //----------------------------------------------------------------------------------------------------------------------
  virtual void effectUsed(const Ability*const, const PTCG::TRIGGER) override;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief interface for executing when a card is played
  //----------------------------------------------------------------------------------------------------------------------
  virtual void playCard(const size_t, Card*const) override;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief interface for executing when the active slot is swapped
  //----------------------------------------------------------------------------------------------------------------------
  virtual void swapSlot(const PTCG::PLAYER, const size_t) override;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief interface for executing when a card is moved
  //----------------------------------------------------------------------------------------------------------------------
  virtual void moveCard(
      const PTCG::PLAYER _owner,
      const PTCG::PILE _origin,
      const PTCG::PILE _destination,
      const size_t _index,
      Card*const _card
      ) override;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief interface for executing when a pokemon is knocked out
  //----------------------------------------------------------------------------------------------------------------------
  virtual void knockOut(const PTCG::PLAYER, const size_t) override;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief interface for inspecting a board slot
  //----------------------------------------------------------------------------------------------------------------------
  virtual void inspectSlot(const PTCG::PLAYER, const size_t) override;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief interface for inspecting a card
  //----------------------------------------------------------------------------------------------------------------------
  virtual void inspectCard(const PTCG::PLAYER, const PTCG::PILE, const size_t) override;

private:
  void stall() const;
  unsigned m_wait = 1000;
};

#endif // GAMESTALLER_H
